<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
    <meta name="format-detection" content="telephone=no,email=no,address=no"/>
    <title>æ‰“å¼€æµè§ˆå™¨æŸ¥çœ‹</title>
    <style>
        :root {
            --safe-top: env(safe-area-inset-top, 0px);
            --safe-right: env(safe-area-inset-right, 0px);
        }

        html, body {
            height: 100%;
        }

        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: #ffffff;
            color: #222;
        }

        /* å¾®ä¿¡å†…æç¤ºé®ç½© */
        .wechat-guide {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.86);
            color: #fff;
            z-index: 9999;
            display: none;
        }

        .wechat-guide[aria-hidden="false"] {
            display: block;
        }

        .wechat-guide .guide-arrow {
            position: absolute;
            top: calc(var(--safe-top) + 8px);
            right: calc(12px + var(--safe-right));
            width: 100px;
            height: 100px;
            pointer-events: none;
        }

        /* æ–œçº¿ */
        .wechat-guide .guide-arrow::before {
            content: "";
            position: absolute;
            width: 92px;
            height: 2px;
            background: #fff;
            opacity: 0.95;
            transform: rotate(-35deg);
            top: 28px;
            right: 4px;
            border-radius: 2px;
        }

        /* ç®­å¤´å°– */
        .wechat-guide .guide-arrow::after {
            content: "";
            position: absolute;
            width: 0;
            height: 0;
            border: 8px solid transparent;
            border-left-color: #fff;
            border-top-color: #fff;
            transform: rotate(-35deg);
            top: 16px;
            right: -2px;
        }

        .wechat-guide .bubble {
            position: absolute;
            top: calc(var(--safe-top) + 22px);
            right: calc(120px + var(--safe-right));
            background: rgba(255, 255, 255, 0.12);
            border: 1px solid rgba(255, 255, 255, 0.35);
            border-radius: 14px;
            padding: 8px 12px;
            font-size: 13px;
            backdrop-filter: saturate(120%) blur(4px);
        }

        .wechat-guide .bubble::after {
            content: "";
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-width: 6px;
            border-style: solid;
            border-color: transparent transparent transparent rgba(255, 255, 255, 0.35);
        }

        .wechat-guide .text {
            position: absolute;
            left: 10%;
            right: 10%;
            bottom: 12%;
            text-align: center;
        }

        .wechat-guide .text .title {
            font-size: 18px;
            font-weight: 600;
            margin: 0 0 12px;
        }

        .wechat-guide .text .line {
            font-size: 14px;
            line-height: 1.6;
            margin: 4px 0;
            opacity: 0.95;
        }

        .wechat-guide .text .hint {
            font-size: 12px;
            opacity: 0.75;
            margin-top: 14px;
        }

        /* æ¨ªå±ä¸‹é€‚é…ç®­å¤´ä¸æ–‡æ¡ˆä½ç½® */
        @media (orientation: landscape) {
            .wechat-guide .text {
                bottom: 6%;
            }

            .wechat-guide .guide-arrow {
                top: calc(var(--safe-top) + 4px);
                right: calc(18px + var(--safe-right));
            }

            .wechat-guide .bubble {
                top: calc(var(--safe-top) + 14px);
                right: calc(140px + var(--safe-right));
            }
        }

        /* ç¤ºä¾‹ä¸»ä½“å†…å®¹ï¼ˆåœ¨æµè§ˆå™¨ä¸­è®¿é—®æ—¶æ­£å¸¸æ˜¾ç¤ºï¼‰ */
        .page {
            display: grid;
            place-items: center;
            height: 100%;
            padding: 24px;
        }

        .page .brand {
            font-size: 20px;
            font-weight: 600;
            color: #111;
        }
    </style>
</head>
<body>
<!-- é¡µé¢ä¸»ä½“å†…å®¹ï¼ˆç¤ºä¾‹ï¼Œå¯æ›¿æ¢ä¸ºä½ çš„å®é™…å†…å®¹ï¼‰ -->
<main class="page">
    <div class="brand">éŸ³ä¹ä¸­é—´é¡µ</div>
</main>

<!-- å¾®ä¿¡å¼•å¯¼é®ç½©ï¼Œä»…åœ¨å¾®ä¿¡å†…æ˜¾ç¤º -->
<aside id="wechat-guide" class="wechat-guide" role="dialog" aria-hidden="true" aria-label="å¾®ä¿¡å†…æ‰“å¼€æµè§ˆå™¨å¼•å¯¼">
    <div class="guide-arrow"></div>
    <div class="bubble">ç‚¹æ­¤æ‰“å¼€èœå•</div>
    <div class="text">
        <p class="title">è¯·ç‚¹å‡»å³ä¸Šè§’ Â·Â·Â· èœå•</p>
        <p class="line ios" style="display:none;">ç„¶åé€‰æ‹©â€œåœ¨Safariä¸­æ‰“å¼€â€ä»¥ç»§ç»­</p>
        <p class="line android" style="display:none;">ç„¶åé€‰æ‹©â€œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€â€ä»¥ç»§ç»­</p>
        <p class="hint">æç¤ºï¼šå¾®ä¿¡ä¸å…è®¸ç›´æ¥è·³å‡ºåº”ç”¨ï¼Œåªèƒ½é€šè¿‡å³ä¸Šè§’èœå•åœ¨ç³»ç»Ÿæµè§ˆå™¨ä¸­æ‰“å¼€ã€‚</p>
    </div>
</aside>

<script>
    (function () {
        var ua = navigator.userAgent || "";
        var isWeChat = /MicroMessenger/i.test(ua);
        // å°½é‡åªé’ˆå¯¹ç§»åŠ¨ç«¯å¾®ä¿¡
        var isMobile = /(iPhone|iPad|iPod|Android|Mobile)/i.test(ua);
        var isIOS = /(iPhone|iPad|iPod)/i.test(ua);

        var guide = document.getElementById('wechat-guide');
        var iosLine = guide && guide.querySelector('.ios');
        var androidLine = guide && guide.querySelector('.android');

        if (isWeChat && isMobile && guide) {
            guide.setAttribute('aria-hidden', 'false');
            if (iosLine && androidLine) {
                if (isIOS) {
                    iosLine.style.display = 'block';
                    androidLine.style.display = 'none';
                } else {
                    iosLine.style.display = 'none';
                    androidLine.style.display = 'block';
                }
            }
        } else {
            // éå¾®ä¿¡ç¯å¢ƒä¸‹éšè—é®ç½©ï¼ˆæ­£å¸¸æµè§ˆå™¨è®¿é—®ï¼‰
            guide && guide.setAttribute('aria-hidden', 'true');
        }
    })();
</script>
</body>
</html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰“å¼€éŸ³ä¹App</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            text-align: center;
            padding: 50px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .music-icon {
            font-size: 60px;
            margin-bottom: 20px;
        }

        .btn {
            background: white;
            color: #667eea;
            padding: 12px 30px;
            border-radius: 25px;
            text-decoration: none;
            display: inline-block;
            margin: 10px;
            font-weight: bold;
        }

        .tips {
            margin-top: 30px;
            font-size: 14px;
            opacity: 0.8;
        }
    </style>
</head>
<body>
<div class="music-icon">ğŸµ</div>
<h1>å‘ç°ä¸€é¦–å¥½éŸ³ä¹</h1>
<p>æ­£åœ¨ä¸ºæ‚¨æ‰“å¼€ã€ä½ çš„éŸ³ä¹Appã€‘æ’­æ”¾...</p>

<div id="wechat-tips" style="display: none;">
    <p>âš ï¸ è¯·åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€</p>
    <a href="#" id="open-in-browser" class="btn">ç‚¹å‡»åœ¨æµè§ˆå™¨æ‰“å¼€</a>
    <div class="tips">ç‚¹å‡»å³ä¸Šè§’ã€Œ...ã€é€‰æ‹©ã€Œåœ¨æµè§ˆå™¨æ‰“å¼€ã€</div>
</div>

<script>
    // è·å–æ­Œæ›²å‚æ•°
    // ä½ çš„Appçš„Schemeï¼Œä¾‹å¦‚ï¼šlingxi://mingyue?song_id=12345
    const appScheme = `lingxi://mingyue${window.location.search}`;
    // App Storeä¸‹è½½åœ°å€
    const appStoreUrl = "https://apps.apple.com/app/your-music-app/id123456";
    // å®‰å“å¸‚åœºä¸‹è½½åœ°å€
    const androidStoreUrl = "https://play.google.com/store/apps/details?id=com.yourapp.music";

    function isWeChat() {
        return /MicroMessenger/i.test(navigator.userAgent);
    }

    function tryOpenApp() {
        // å°è¯•å”¤é†’App
        window.location.href = appScheme;

        // å¦‚æœ3ç§’åè¿˜åœ¨å½“å‰é¡µé¢ï¼Œè¯´æ˜æ²¡æœ‰å®‰è£…App
        setTimeout(function () {
            if (!document.hidden) {
                // æ ¹æ®è®¾å¤‡è·³è½¬åˆ°å¯¹åº”çš„åº”ç”¨å•†åº—
                if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                    window.location.href = appStoreUrl;
                } else {
                    window.location.href = androidStoreUrl;
                }
            }
        }, 3000);
    }

    // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
    window.onload = function () {
        if (isWeChat()) {
            // åœ¨å¾®ä¿¡å†…ï¼Œæ˜¾ç¤ºå¼•å¯¼æç¤º
            document.getElementById('wechat-tips').style.display = 'block';

            // è®¾ç½®æµè§ˆå™¨æ‰“å¼€æŒ‰é’®çš„é“¾æ¥
            document.getElementById('open-in-browser').href = "https://www.baidu.com/";
            // `lingxi://mingyue?url=${encodeURIComponent(window.location.href)}`;
        } else {
            // ä¸åœ¨å¾®ä¿¡å†…ï¼Œç›´æ¥å°è¯•æ‰“å¼€App
            tryOpenApp();
        }
    };
</script>
</body>
</html>