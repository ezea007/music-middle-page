<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰“å¼€éŸ³ä¹App</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            text-align: center;
            padding: 50px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .music-icon {
            font-size: 60px;
            margin-bottom: 20px;
        }
        .btn {
            background: white;
            color: #667eea;
            padding: 12px 30px;
            border-radius: 25px;
            text-decoration: none;
            display: inline-block;
            margin: 10px;
            font-weight: bold;
        }
        .tips {
            margin-top: 30px;
            font-size: 14px;
            opacity: 0.8;
        }
    </style>
</head>
<body>
<div class="music-icon">ğŸµ</div>
<h1>å‘ç°ä¸€é¦–å¥½éŸ³ä¹</h1>
<p>æ­£åœ¨ä¸ºæ‚¨æ‰“å¼€ã€ä½ çš„éŸ³ä¹Appã€‘æ’­æ”¾...</p>

<div id="wechat-tips" style="display: none;">
    <p>âš ï¸ è¯·åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€</p>
    <a href="#" id="open-in-browser" class="btn">ç‚¹å‡»åœ¨æµè§ˆå™¨æ‰“å¼€</a>
    <div class="tips">ç‚¹å‡»å³ä¸Šè§’ã€Œ...ã€é€‰æ‹©ã€Œåœ¨æµè§ˆå™¨æ‰“å¼€ã€</div>
</div>

<script>
    // è·å–æ­Œæ›²å‚æ•°
    const urlParams = new URLSearchParams(window.location.search);
    const songId = urlParams.get('song_id');

    // ä½ çš„Appçš„Schemeï¼Œä¾‹å¦‚ï¼šlingxi://mingyue?song_id=12345
    const appScheme = `lingxi://mingyue?song_id=${songId || '12345'}`;

    // App Storeä¸‹è½½åœ°å€
    const appStoreUrl = "https://apps.apple.com/app/your-music-app/id123456";
    // å®‰å“å¸‚åœºä¸‹è½½åœ°å€
    const androidStoreUrl = "https://play.google.com/store/apps/details?id=com.yourapp.music";

    function isWeChat() {
        return /MicroMessenger/i.test(navigator.userAgent);
    }

    function tryOpenApp() {
        // å°è¯•å”¤é†’App
        window.location.href = appScheme;

        // å¦‚æœ2ç§’åè¿˜åœ¨å½“å‰é¡µé¢ï¼Œè¯´æ˜æ²¡æœ‰å®‰è£…App
        setTimeout(function() {
            if (!document.hidden) {
                // æ ¹æ®è®¾å¤‡è·³è½¬åˆ°å¯¹åº”çš„åº”ç”¨å•†åº—
                if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                    window.location.href = appStoreUrl;
                } else {
                    window.location.href = androidStoreUrl;
                }
            }
        }, 2000);
    }

    // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
    window.onload = function() {
        if (isWeChat()) {
            // åœ¨å¾®ä¿¡å†…ï¼Œæ˜¾ç¤ºå¼•å¯¼æç¤º
            document.getElementById('wechat-tips').style.display = 'block';

            // è®¾ç½®æµè§ˆå™¨æ‰“å¼€æŒ‰é’®çš„é“¾æ¥
            document.getElementById('open-in-browser').href =
                `your-music-app://browser-redirect?url=${encodeURIComponent(window.location.href)}`;
        } else {
            // ä¸åœ¨å¾®ä¿¡å†…ï¼Œç›´æ¥å°è¯•æ‰“å¼€App
            tryOpenApp();
        }
    };
</script>
</body>
</html>